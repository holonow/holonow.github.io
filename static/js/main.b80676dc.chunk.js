(this["webpackJsonpholo-now"]=this["webpackJsonpholo-now"]||[]).push([[0],{48:function(e,n,t){e.exports=t(85)},53:function(e,n,t){},85:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),c=t(30),o=t.n(c),l=(t(53),t(4)),u=t(17),i=t(5),m=t(34),s=t(11),f=t.n(s),b=t(20),d=Object(l.atom)({key:"lives",default:{updatedAt:null,lives:[]}}),v=Object(l.atom)({key:"lives/filter",default:{startFrom:"default",vtubers:[],allVtubers:!0}});function p(e,n){return function(e,n){var t=n.vtubers;if(n.allVtubers)return e;var r=new Set(t);return e.filter((function(e){return r.has(e.streamer)||e.guests.some((function(e){return r.has(e)}))}))}(function(e,n){if("today"===n.startFrom){var t=(new Date).getDate();return e.filter((function(e){return e.time.getDate()===t}))}var r=Date.now()-36e5;return e.filter((function(e){return e.streaming||e.time.valueOf()>r}))}(e,n),n)}var h=Object(l.selector)({key:"lives/incomingLives",get:function(e){var n=e.get,t=n(d),r=n(v);return p(t.lives,r)}}),g=d,E=Object(l.atom)({key:"liveImages",default:{updatedAt:null,liverImageMap:{}}});function j(){return O.apply(this,arguments)}function O(){return(O=Object(b.a)(f.a.mark((function e(){var n,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://holonow.github.io/holo-data/schedule.json");case 2:return n=e.sent,e.next=5,n.json();case 5:if(t=e.sent,Array.isArray(t)){e.next=8;break}throw new Error("Get lives failed");case 8:return e.abrupt("return",t.map((function(e){return Object(m.a)(Object(m.a)({},e),{},{time:new Date(e.time)})})));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return k.apply(this,arguments)}function k(){return(k=Object(b.a)(f.a.mark((function e(){var n,t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://holonow.github.io/holo-data/imageMap.json");case 2:return n=e.sent,e.next=5,n.json();case 5:if((t=e.sent)["\u8d64\u4e95\u306f\u3042\u3068"]){e.next=8;break}throw new Error("Get image map failed");case 8:return e.abrupt("return",t);case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){return function(){var e=Object(l.useSetRecoilState)(g),n=Object(r.useCallback)(Object(b.a)(f.a.mark((function n(){var t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,j();case 2:t=n.sent,e((function(){return{lives:t,updatedAt:new Date}}));case 4:case"end":return n.stop()}}),n)}))),[e]);Object(r.useEffect)((function(){n();var e=setInterval(n,3e5);return function(){clearInterval(e)}}),[n])}(),function(){var e=Object(l.useSetRecoilState)(E),n=Object(r.useCallback)(Object(b.a)(f.a.mark((function n(){var t;return f.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,w();case 2:t=n.sent,e((function(){return{liverImageMap:t,updatedAt:new Date}}));case 4:case"end":return n.stop()}}),n)}))),[e]);Object(r.useEffect)((function(){n();var e=setInterval(n,3e5);return function(){clearInterval(e)}}),[n])}(),null},y=t(1),C=t(15),S=t(43),I=t.n(S);function R(){var e=Object(y.a)(["\n  ","\n\n  :root {\n    --bg-color: #181818;\n    --main-text-color: white;\n    --second-text-color: #AAA;\n  }\n\n  html {\n    box-sizing: border-box;\n  }\n  *, *:before, *:after {\n    box-sizing: inherit;\n  }\n\n  body {\n    color: var(--second-text-color);\n    background-color: #181818;\n  }\n\n  a {\n    color: var(--second-text-color);\n  }\n\n  a:hover {\n    color: lightskyblue;\n  }\n\n  h1, h2, h3, h4, h5, h6, strong {\n    color: var(--main-text-color);\n  }\n"]);return R=function(){return e},e}var A=Object(C.css)(R(),I.a),V=function(){return a.a.createElement(C.Global,{styles:A})},H=t(10);function D(e){var n={};return e.forEach((function(e){var t=e.time.toLocaleDateString();n[t]||(n[t]={date:t,lives:[]}),n[t].lives.push(e)})),Object.entries(n).sort((function(e,n){var t=Object(H.a)(e,1)[0],r=Object(H.a)(n,1)[0];return t.localeCompare(r)})).map((function(e){return Object(H.a)(e,2)[1]}))}var F=t(26),L=t(24),N=t.n(L),G=t(2),M=Object(l.atom)({key:"ui/showSettings",default:!1}),T=Object(l.atom)({key:"ui/showLiveTitle",default:!0});function z(){var e=Object(y.a)(["\n  margin-bottom: .5rem;\n  color: var(--main-text-color);\n"]);return z=function(){return e},e}var B=G.a.div(z());var J=function(e){var n=e.live,t=n.time,r=n.streamer,c=n.guests,o=n.videoId,u=n.title,i=Object(l.useRecoilValue)(T)&&Boolean(u),m="https://youtu.be/".concat(o),s=N()(t).format("HH:mm"),f=[r].concat(Object(F.a)(c));return a.a.createElement(B,{className:"LiveText"},a.a.createElement("time",null,s),a.a.createElement("br",null),f.join("\u3001"),i&&a.a.createElement("br",null),i&&u,a.a.createElement("br",null),a.a.createElement("a",{href:m},m))};function W(){var e=Object(y.a)(["\n  padding: 0 clamp(.25rem, 2vw, 1rem);\n"]);return W=function(){return e},e}var _=G.a.div(W());var K=function(){var e=D(Object(l.useRecoilValue)(h)).map((function(e){var n=e.date,t=e.lives.map((function(e){return a.a.createElement(J,{key:e.videoId,live:e})}));return a.a.createElement("section",{key:n},a.a.createElement("h2",null,n),t)}));return a.a.createElement(_,{className:"LiveList"},e)};function P(){var e=Object(y.a)(["\n  color: var(--main-text-color);\n"]);return P=function(){return e},e}function U(){var e=Object(y.a)(["\n  height: 2.3rem;\n  overflow: hidden;\n"]);return U=function(){return e},e}function X(){var e=Object(y.a)(["\n  width: clamp(158px, 49vw, 250px);\n  padding: clamp(.125rem, .53vw, .25rem);\n  padding-bottom: clamp(.375rem, 1.5vw, .5rem);\n"]);return X=function(){return e},e}function Z(){var e=Object(y.a)(["\n"]);return Z=function(){return e},e}function $(){var e=Object(y.a)(["\n  display: block;\n  width: 100%;\n"]);return $=function(){return e},e}function q(){var e=Object(y.a)(["\n  width: 100%;\n  border: "," solid 2px;\n"]);return q=function(){return e},e}var Q=G.a.img(q(),(function(e){return e.streaming?"red":"#444"})),Y=G.a.a($()),ee=G.a.div(Z()),ne=G.a.div(X()),te=G.a.div(U()),re=G.a.div(P());var ae=function(e){var n=e.live,t=n.link,r=n.livePreviewImage,c=n.time,o=n.streamer,l=n.guests,u=n.streaming,i=n.title,m=[o].concat(Object(F.a)(l)),s=N()(c).format("HH:mm");return a.a.createElement(ne,null,a.a.createElement(ee,null,a.a.createElement("strong",null,a.a.createElement("time",null,s)),a.a.createElement(Y,{href:t},a.a.createElement(Q,{alt:"video-preview",src:r,streaming:u})),a.a.createElement(re,null,m.join("\u3001")),a.a.createElement(te,null,i)))};function ce(){var e=Object(y.a)(["\n  display: flex;\n  flex-wrap: wrap;\n  justify-content: center;\n"]);return ce=function(){return e},e}function oe(){var e=Object(y.a)(["\n  border-bottom: solid 1px #444;\n  margin-top: .5rem;\n  padding-bottom: 1rem;\n"]);return oe=function(){return e},e}function le(){var e=Object(y.a)(["\n  padding: .5rem;\n  margin: 0;\n  text-align: center;\n  font-size: 1.2rem;\n  font-weight: bold;\n"]);return le=function(){return e},e}var ue=G.a.h2(le()),ie=G.a.section(oe()),me=G.a.div(ce());var se=function(e){var n=e.dayGroup,t=n.lives,r=n.date,c=t.map((function(e){return a.a.createElement(ae,{key:e.videoId,live:e})}));return a.a.createElement(ie,null,a.a.createElement(ue,null,a.a.createElement("time",null,r)),a.a.createElement(me,null,c))};var fe=function(){var e=D(Object(l.useRecoilValue)(h)).map((function(e){return a.a.createElement(se,{key:e.date,dayGroup:e})}));return a.a.createElement("div",{className:"Lives"},e)},be=t(14),de=t(46),ve=t(25);var pe=function(){var e=Object(l.useSetRecoilState)(M);return a.a.createElement("button",{type:"button",onClick:function(){e(!0)}},a.a.createElement(be.a,{icon:ve.a}))};function he(){var e=Object(y.a)(["\n  float: none;\n  li {\n    float: right;\n  }\n"]);return he=function(){return e},e}function ge(){var e=Object(y.a)(["\n  float: left;\n  list-style-type: none;\n  margin: 0;\n  padding: 0;\n  overflow: hidden;\n\n  li {\n    float: left;\n  }\n"]);return ge=function(){return e},e}function Ee(){var e=Object(y.a)(["\n  padding-left: clamp(.5rem, 2vw, 1rem);\n  padding-right: clamp(.5rem, 2vw, 1rem);\n  background-color: #333;\n\n  a, button {\n    display: block;\n    padding: 5px;\n    color: white;\n    text-decoration: none;\n    border: none;\n    background-color: rgba(0, 0, 0, 0);\n  }\n\n  a:hover, button:hover {\n    background-color: black;\n  }\n"]);return Ee=function(){return e},e}var je=G.a.nav(Ee()),Oe=G.a.ul(ge()),we=Object(G.a)(Oe)(he()),ke=function(){return a.a.createElement("a",{target:"_blank",href:"https://holonow.github.io/holo-data/schedule.json"},"JSON")};var xe=function(){return a.a.createElement(je,null,a.a.createElement(Oe,null,a.a.createElement("li",null,a.a.createElement(u.b,{style:{fontWeight:"bold"},to:"/"},"[Holo Now]")),a.a.createElement("li",null,a.a.createElement(u.b,{to:"/text"},"Text")),a.a.createElement("li",null,a.a.createElement(ke,null))),a.a.createElement(we,null,a.a.createElement("li",null,a.a.createElement(u.b,{to:"/about"},a.a.createElement(be.a,{icon:de.a}))),a.a.createElement("li",null,a.a.createElement(pe,null))))},ye=t(47),Ce=function(){return a.a.createElement("a",{target:"_blank",href:"https://github.com/holonow/holonow.github.io"},a.a.createElement(be.a,{icon:ye.a})," ","GitHub")};var Se=function(){return a.a.createElement(_,null,a.a.createElement("h2",null,"About Holo Now"),a.a.createElement("p",null,"Unofficial Hololive schedule viewer."),a.a.createElement("p",null,"Checkout source code at"," ",a.a.createElement(Ce,null)))},Ie=t(19);function Re(){var e=Object(y.a)(["\n  display: ",";\n  position: fixed;\n  z-index: 1;\n  left: 0;\n  top: 0;\n  width: 100%;\n  height: 100%;\n  overflow: auto;\n  background-color: rgba(0,0,0,0.4);\n"]);return Re=function(){return e},e}var Ae=G.a.div(Re(),(function(e){return e.open?"block":"none"}));function Ve(){var e=Object(y.a)(["\n  cursor: pointer;\n"]);return Ve=function(){return e},e}var He=G.a.label(Ve());var De=function(e){var n=e.label,t=e.checked,r=e.onChange;return a.a.createElement(He,null,a.a.createElement("input",{type:"radio",value:n,checked:t,onChange:r}),n)},Fe=[{name:"\uff11\u671f\u751f",members:["\u591c\u7a7a\u30e1\u30eb","\u30a2\u30ad\u30ed\u30bc","\u8d64\u4e95\u306f\u3042\u3068","\u767d\u4e0a\u30d5\u30d6\u30ad","\u590f\u8272\u307e\u3064\u308a"]},{name:"\uff12\u671f\u751f",members:["\u6e4a\u3042\u304f\u3042","\u7d2b\u54b2\u30b7\u30aa\u30f3","\u767e\u9b3c\u3042\u3084\u3081","\u7652\u6708\u3061\u3087\u3053","\u5927\u7a7a\u30b9\u30d0\u30eb"]},{name:"\u30b2\u30fc\u30de",members:["\u5927\u795e\u30df\u30aa","\u732b\u53c8\u304a\u304b\u3086","\u620c\u795e\u3053\u308d\u306d"]},{name:"\uff13\u671f\u751f",members:["\u514e\u7530\u307a\u3053\u3089","\u6f64\u7fbd\u308b\u3057\u3042","\u4e0d\u77e5\u706b\u30d5\u30ec\u30a2","\u767d\u9280\u30ce\u30a8\u30eb","\u5b9d\u9418\u30de\u30ea\u30f3"]},{name:"\uff14\u671f\u751f",members:["\u5929\u97f3\u304b\u306a\u305f","\u6850\u751f\u30b3\u30b3","\u89d2\u5dfb\u308f\u305f\u3081","\u5e38\u95c7\u30c8\u30ef","\u59eb\u68ee\u30eb\u30fc\u30ca"]},{name:"\uff15\u671f\u751f",members:["\u96ea\u82b1\u30e9\u30df\u30a3","\u6843\u9234\u306d\u306d","\u7345\u767d\u307c\u305f\u3093","\u5c3e\u4e38\u30dd\u30eb\u30ab"]},{name:"\u30db\uff08\u4ed6",members:["\u3068\u304d\u306e\u305d\u3089","\u30ed\u30dc\u5b50\u3055\u3093","\u3055\u304f\u3089\u307f\u3053","\u661f\u8857\u3059\u3044\u305b\u3044","AZKi"]}];Fe.map((function(e){return e.members})).flat();function Le(){var e=Object(y.a)(['\n position: absolute;\n  cursor: pointer;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background-color: #ccc;\n  border-radius: 17px;\n  transition: .4s;\n\n  :before {\n    position: absolute;\n    content: "";\n    height: 13px;\n    width: 13px;\n    left: 2px;\n    bottom: 2px;\n    background-color: white;\n    -webkit-transition: .4s;\n    transition: .4s;\n    border-radius: 50%;\n  }\n']);return Le=function(){return e},e}function Ne(){var e=Object(y.a)(["\n  position: relative;\n  display: inline-block;\n  width: 30px;\n  height: 17px;\n\n  /* Hide default HTML checkbox */\n  input {\n    opacity: 0;\n    width: 0;\n    height: 0;\n  }\n\n  input:checked + .slider {\n    background-color: #2196F3;\n  }\n\n  input:focus + .slider {\n    box-shadow: 0 0 1px #2196F3;\n  }\n\n  input:checked + .slider:before {\n    transform: translateX(13px);\n  }\n"]);return Ne=function(){return e},e}var Ge=G.a.label(Ne()),Me=G.a.span(Le());var Te=function(e){var n=e.checked,t=e.onChange;return a.a.createElement(Ge,null,a.a.createElement("input",{type:"checkbox",checked:n,onChange:t}),a.a.createElement(Me,{className:"slider"}))};function ze(){var e=Object(y.a)(["\n  padding: 0;\n  background-color: black;\n  border: none;\n  color: inherit;\n  height: 1.2rem;\n  flex-shrink: 0;\n\n  :hover {\n    background-color: rgba(0,0,0,0);\n  }\n"]);return ze=function(){return e},e}function Be(){var e=Object(y.a)(["\n  display: flex;\n  align-items: center;\n  img {\n    margin-left: .25rem;\n  }\n  margin-bottom: .5rem;\n"]);return Be=function(){return e},e}function Je(){var e=Object(y.a)(["\n  border-radius: 50%;\n  width: 2.5rem;\n  border: 2px solid ;\n  border-color: ",";\n  filter: ",";\n"]);return Je=function(){return e},e}var We=G.a.img(Je(),(function(e){return e.selected?"skyblue":"gray"}),(function(e){return e.selected?"":"grayscale(.7)"})),_e=G.a.div(Be()),Ke=G.a.button(ze());function Pe(e){var n=e.name,t=e.src,r=e.selected,c=e.onClick;return a.a.createElement(We,{selected:r,alt:n,src:t,onClick:c})}var Ue=function(){var e=Object(l.useRecoilState)(v),n=Object(H.a)(e,2),t=n[0],r=n[1],c=Object(l.useRecoilValue)(E).liverImageMap,o=t.vtubers,u=t.allVtubers,i=new Set(o),m=Fe.map((function(e){var n=e.name,t=e.members.map((function(e){return a.a.createElement(Pe,{key:e,name:e,selected:u||i.has(e),src:c[e],onClick:function(){r(Object(Ie.a)((function(n){var t=n.vtubers.indexOf(e);t>=0?n.vtubers.splice(t,1):n.vtubers.push(e),n.allVtubers=!1})))}})}));return a.a.createElement(_e,{key:n},a.a.createElement(Ke,{type:"button"},n),t)}));return a.a.createElement("div",null,a.a.createElement(_e,null,"\u5168\u8868\u793a \xa0",a.a.createElement(Te,{checked:u,onChange:function(){r(Object(Ie.a)((function(e){e.allVtubers=!e.allVtubers})))}})),m)};function Xe(){var e=Object(y.a)(["\n  padding-left: 0;\n  margin-left: 0;\n  input {\n    margin-right: .25rem;\n    margin-left: 1rem;\n  }\n"]);return Xe=function(){return e},e}function Ze(){var e=Object(y.a)(["\n  border: none;\n"]);return Ze=function(){return e},e}function $e(){var e=Object(y.a)(["\n  padding: 1rem;\n  padding-top: 0;\n"]);return $e=function(){return e},e}function qe(){var e=Object(y.a)(["\n  background-color: #333;\n  border: 1px solid #555;\n  margin: 2rem auto;\n  width: clamp(0px, 90%, 800px);\n\n  h3 {\n    margin: 0;\n  }\n"]);return qe=function(){return e},e}function Qe(){var e=Object(y.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  padding-top: .5rem;\n  padding-right: .5rem;\n"]);return Qe=function(){return e},e}var Ye=G.a.div(Qe()),en=G.a.div(qe()),nn=G.a.div($e()),tn=G.a.fieldset(Ze()),rn=Object(G.a)(tn)(Xe());var an=function(){var e=Object(l.useRecoilState)(M),n=Object(H.a)(e,2),t=n[0],r=n[1],c=Object(l.useRecoilState)(v),o=Object(H.a)(c,2),u=o[0],i=o[1],m=Object(l.useRecoilState)(T),s=Object(H.a)(m,2),f=s[0],b=s[1],d=function(e){var n=e.target.value;i(Object(Ie.a)((function(e){e.startFrom=n})))};return a.a.createElement(Ae,{open:t},a.a.createElement(en,null,a.a.createElement(Ye,null,a.a.createElement(be.a,{onClick:function(){return r(!1)},icon:ve.b})),a.a.createElement(nn,null,a.a.createElement("h3",null,"Filter"),a.a.createElement(rn,null,"Time",a.a.createElement(De,{label:"default",checked:"default"===u.startFrom,onChange:d}),a.a.createElement(De,{label:"today",checked:"today"===u.startFrom,onChange:d})),a.a.createElement(Ue,null),a.a.createElement("h3",null,"Display"),a.a.createElement(tn,null,a.a.createElement("label",null,a.a.createElement("input",{type:"checkbox",checked:f,onChange:function(){b((function(e){return!e}))}}),"Video Title")))))};var cn=function(){return a.a.createElement(u.a,null,a.a.createElement(V,null),a.a.createElement(l.RecoilRoot,null,a.a.createElement(x,null),a.a.createElement("div",{className:"App"},a.a.createElement(xe,null),a.a.createElement("main",null,a.a.createElement(i.c,null,a.a.createElement(i.a,{path:"/text"},a.a.createElement(K,null)),a.a.createElement(i.a,{path:"/about"},a.a.createElement(Se,null)),a.a.createElement(i.a,{exact:!0,path:"/"},a.a.createElement(fe,null))),a.a.createElement(an,null)))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement(a.a.StrictMode,null,a.a.createElement(cn,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.b80676dc.chunk.js.map